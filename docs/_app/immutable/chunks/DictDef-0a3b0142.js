import{S as B,i as H,s as C,k,q as w,a as P,l as y,m as E,r as D,h as d,c as S,n as v,K as ee,b as T,G as m,M as N,u as q,B as I,P as Z,Q as $,f as A,g as te,d as ne,t as M,R as U,I as le,J as se,w as ae,x as ie,y as re,O as oe,z as ce,A as fe}from"./index-a0aa925d.js";function be(i){if(i.code=="Enter"||i.code=="NumpadEnter"||i.code=="Escape"){i.target&&i.target.blur(),i.preventDefault();return}}function x(i){if(i.code=="Enter"||i.code=="NumpadEnter"||i.code=="Escape"||i.code=="Space"){i.target&&i.target.blur(),i.preventDefault();return}}function ke(i){return i.code=="Escape"&&i.target?(i.target.blur(),!0):!1}function ue(i){let e,n,a,s,l,r,t,o;return{c(){e=k("div"),n=k("span"),a=w(i[0]),s=P(),l=k("button"),r=k("i"),this.h()},l(_){e=y(_,"DIV",{class:!0});var c=E(e);n=y(c,"SPAN",{class:!0,contenteditable:!0});var u=E(n);a=D(u,i[0]),u.forEach(d),s=S(c),l=y(c,"BUTTON",{class:!0});var h=E(l);r=y(h,"I",{class:!0}),E(r).forEach(d),h.forEach(d),c.forEach(d),this.h()},h(){v(n,"class","tag form-border svelte-1a2h1sg"),v(n,"contenteditable","true"),i[0]===void 0&&ee(()=>i[5].call(n)),v(r,"class","fa-solid fa-xmark"),v(l,"class","x-tag svelte-1a2h1sg"),v(e,"class","tag-btn svelte-1a2h1sg")},m(_,c){T(_,e,c),m(e,n),m(n,a),i[0]!==void 0&&(n.innerHTML=i[0]),m(e,s),m(e,l),m(l,r),t||(o=[N(n,"input",i[5]),N(n,"focusout",i[1]),N(n,"keydown",x),N(r,"click",i[2]),N(r,"keydown",i[3])],t=!0)},p(_,[c]){c&1&&q(a,_[0]),c&1&&_[0]!==n.innerHTML&&(n.innerHTML=_[0])},i:I,o:I,d(_){_&&d(e),t=!1,Z(o)}}}function he(i,e,n){let{tag:a}=e,{index:s}=e;const l=$();function r(c){a==""||a=="<br>"?l("removeTag",{index:s}):l("tagUpdated",{tag:a,index:s})}function t(c){l("removeTag",{index:s})}function o(c){(c.code=="Enter"||c.code=="NumpadEnter")&&t()}function _(){a=this.innerHTML,n(0,a)}return i.$$set=c=>{"tag"in c&&n(0,a=c.tag),"index"in c&&n(4,s=c.index)},[a,r,t,o,s,_]}class de extends B{constructor(e){super(),H(this,e,he,ue,C,{tag:0,index:4})}}function V(i,e,n){const a=i.slice();return a[10]=e[n],a[11]=e,a[12]=n,a}function z(i){let e,n,a;function s(r){i[5](r,i[10],i[11],i[12])}let l={index:i[12]};return i[10]!==void 0&&(l.tag=i[10]),e=new de({props:l}),le.push(()=>se(e,"tag",s,i[10])),e.$on("removeTag",i[6]),e.$on("tagUpdated",i[7]),{c(){ae(e.$$.fragment)},l(r){ie(e.$$.fragment,r)},m(r,t){re(e,r,t),a=!0},p(r,t){i=r;const o={};!n&&t&1&&(n=!0,o.tag=i[10],oe(()=>n=!1)),e.$set(o)},i(r){a||(A(e.$$.fragment,r),a=!0)},o(r){M(e.$$.fragment,r),a=!1},d(r){ce(e,r)}}}function _e(i){let e,n,a,s,l,r,t=i[0],o=[];for(let c=0;c<t.length;c+=1)o[c]=z(V(i,t,c));const _=c=>M(o[c],1,1,()=>{o[c]=null});return{c(){for(let c=0;c<o.length;c+=1)o[c].c();e=P(),n=k("span"),this.h()},l(c){for(let u=0;u<o.length;u+=1)o[u].l(c);e=S(c),n=y(c,"SPAN",{id:!0,class:!0,title:!0,placeholder:!0,contenteditable:!0}),E(n).forEach(d),this.h()},h(){v(n,"id",a=i[1]+"-tags"),v(n,"class","tag-input form-border svelte-13gfl04"),v(n,"title","New tag"),v(n,"placeholder","+"),v(n,"contenteditable","true")},m(c,u){for(let h=0;h<o.length;h+=1)o[h].m(c,u);T(c,e,u),T(c,n,u),s=!0,l||(r=[N(n,"keydown",x),N(n,"focusout",i[3])],l=!0)},p(c,[u]){if(u&21){t=c[0];let h;for(h=0;h<t.length;h+=1){const f=V(c,t,h);o[h]?(o[h].p(f,u),A(o[h],1)):(o[h]=z(f),o[h].c(),A(o[h],1),o[h].m(e.parentNode,e))}for(te(),h=t.length;h<o.length;h+=1)_(h);ne()}(!s||u&2&&a!==(a=c[1]+"-tags"))&&v(n,"id",a)},i(c){if(!s){for(let u=0;u<t.length;u+=1)A(o[u]);s=!0}},o(c){o=o.filter(Boolean);for(let u=0;u<o.length;u+=1)M(o[u]);s=!1},d(c){U(o,c),c&&d(e),c&&d(n),l=!1,Z(r)}}}function ge(i,e,n){const a=$();let{key:s}=e,{tags:l=[]}=e;async function r(){await fe();const f=document.getElementById(`${s}-tags`);f&&f.focus()}function t(f){l[f.index]&&(n(0,l[f.index]=f.tag,l),a("updateTags"))}function o(f){const g=f.target;if(g.innerText){const b=g.innerText.trim().split(" ").map(p=>p.trim().toLocaleLowerCase()).filter(p=>p!=""&&p!="<br>");l.push(...b),n(0,l=[...new Set(l)]),g.innerText="",r(),a("updateTags")}}function _(f){l.splice(f.index,1),n(0,l),a("updateTags")}function c(f,g,b,p){b[p]=f,n(0,l)}const u=f=>_(f.detail),h=f=>t(f.detail);return i.$$set=f=>{"key"in f&&n(1,s=f.key),"tags"in f&&n(0,l=f.tags)},[l,s,t,o,_,c,u,h]}class ye extends B{constructor(e){super(),H(this,e,ge,_e,C,{key:1,tags:0})}}function G(i,e,n){const a=i.slice();return a[1]=e[n],a}function J(i,e,n){const a=i.slice();return a[4]=e[n],a}function Q(i,e,n){const a=i.slice();return a[7]=e[n],a}function R(i){let e,n,a=i[0].parts,s=[];for(let l=0;l<a.length;l+=1)s[l]=Y(G(i,a,l));return{c(){e=k("dd"),n=k("ul");for(let l=0;l<s.length;l+=1)s[l].c();this.h()},l(l){e=y(l,"DD",{});var r=E(e);n=y(r,"UL",{class:!0});var t=E(n);for(let o=0;o<s.length;o+=1)s[o].l(t);t.forEach(d),r.forEach(d),this.h()},h(){v(n,"class","svelte-1rkwvqh")},m(l,r){T(l,e,r),m(e,n);for(let t=0;t<s.length;t+=1)s[t].m(n,null)},p(l,r){if(r&1){a=l[0].parts;let t;for(t=0;t<a.length;t+=1){const o=G(l,a,t);s[t]?s[t].p(o,r):(s[t]=Y(o),s[t].c(),s[t].m(n,null))}for(;t<s.length;t+=1)s[t].d(1);s.length=a.length}},d(l){l&&d(e),U(s,l)}}}function j(i){let e,n,a=i[1].synonyms,s=[];for(let l=0;l<a.length;l+=1)s[l]=F(Q(i,a,l));return{c(){e=k("p"),n=w(`Synonyms:
                                    `);for(let l=0;l<s.length;l+=1)s[l].c();this.h()},l(l){e=y(l,"P",{class:!0});var r=E(e);n=D(r,`Synonyms:
                                    `);for(let t=0;t<s.length;t+=1)s[t].l(r);r.forEach(d),this.h()},h(){v(e,"class","syn svelte-1rkwvqh")},m(l,r){T(l,e,r),m(e,n);for(let t=0;t<s.length;t+=1)s[t].m(e,null)},p(l,r){if(r&1){a=l[1].synonyms;let t;for(t=0;t<a.length;t+=1){const o=Q(l,a,t);s[t]?s[t].p(o,r):(s[t]=F(o),s[t].c(),s[t].m(e,null))}for(;t<s.length;t+=1)s[t].d(1);s.length=a.length}},d(l){l&&d(e),U(s,l)}}}function F(i){let e=i[7]+"",n;return{c(){n=w(e)},l(a){n=D(a,e)},m(a,s){T(a,n,s)},p(a,s){s&1&&e!==(e=a[7]+"")&&q(n,e)},d(a){a&&d(n)}}}function W(i){let e,n,a=i[1].antonyms,s=[];for(let l=0;l<a.length;l+=1)s[l]=X(J(i,a,l));return{c(){e=k("p"),n=w(`Antonyms:
                                    `);for(let l=0;l<s.length;l+=1)s[l].c();this.h()},l(l){e=y(l,"P",{class:!0});var r=E(e);n=D(r,`Antonyms:
                                    `);for(let t=0;t<s.length;t+=1)s[t].l(r);r.forEach(d),this.h()},h(){v(e,"class","ant svelte-1rkwvqh")},m(l,r){T(l,e,r),m(e,n);for(let t=0;t<s.length;t+=1)s[t].m(e,null)},p(l,r){if(r&1){a=l[1].antonyms;let t;for(t=0;t<a.length;t+=1){const o=J(l,a,t);s[t]?s[t].p(o,r):(s[t]=X(o),s[t].c(),s[t].m(e,null))}for(;t<s.length;t+=1)s[t].d(1);s.length=a.length}},d(l){l&&d(e),U(s,l)}}}function X(i){let e=i[4]+"",n;return{c(){n=w(e)},l(a){n=D(a,e)},m(a,s){T(a,n,s)},p(a,s){s&1&&e!==(e=a[4]+"")&&q(n,e)},d(a){a&&d(n)}}}function Y(i){let e,n,a,s=i[1].part+"",l,r,t,o=i[1].definition+"",_,c,u,h,f=i[1].synonyms.length>0&&j(i),g=i[1].antonyms.length>0&&W(i);return{c(){e=k("li"),n=k("p"),a=k("span"),l=w(s),r=P(),t=k("span"),_=w(o),c=P(),f&&f.c(),u=P(),g&&g.c(),h=P(),this.h()},l(b){e=y(b,"LI",{});var p=E(e);n=y(p,"P",{class:!0});var L=E(n);a=y(L,"SPAN",{class:!0});var K=E(a);l=D(K,s),K.forEach(d),r=S(L),t=y(L,"SPAN",{class:!0});var O=E(t);_=D(O,o),O.forEach(d),L.forEach(d),c=S(p),f&&f.l(p),u=S(p),g&&g.l(p),h=S(p),p.forEach(d),this.h()},h(){v(a,"class","pos svelte-1rkwvqh"),v(t,"class","def svelte-1rkwvqh"),v(n,"class","svelte-1rkwvqh")},m(b,p){T(b,e,p),m(e,n),m(n,a),m(a,l),m(n,r),m(n,t),m(t,_),m(e,c),f&&f.m(e,null),m(e,u),g&&g.m(e,null),m(e,h)},p(b,p){p&1&&s!==(s=b[1].part+"")&&q(l,s),p&1&&o!==(o=b[1].definition+"")&&q(_,o),b[1].synonyms.length>0?f?f.p(b,p):(f=j(b),f.c(),f.m(e,u)):f&&(f.d(1),f=null),b[1].antonyms.length>0?g?g.p(b,p):(g=W(b),g.c(),g.m(e,h)):g&&(g.d(1),g=null)},d(b){b&&d(e),f&&f.d(),g&&g.d()}}}function pe(i){let e,n,a,s=i[0].word+"",l,r=i[0].parts.length>0&&R(i);return{c(){e=k("div"),n=k("dl"),a=k("dt"),l=w(s),r&&r.c(),this.h()},l(t){e=y(t,"DIV",{class:!0});var o=E(e);n=y(o,"DL",{class:!0});var _=E(n);a=y(_,"DT",{});var c=E(a);l=D(c,s),c.forEach(d),r&&r.l(_),_.forEach(d),o.forEach(d),this.h()},h(){v(n,"class","svelte-1rkwvqh"),v(e,"class","dict-def-container")},m(t,o){T(t,e,o),m(e,n),m(n,a),m(a,l),r&&r.m(n,null)},p(t,[o]){o&1&&s!==(s=t[0].word+"")&&q(l,s),t[0].parts.length>0?r?r.p(t,o):(r=R(t),r.c(),r.m(n,null)):r&&(r.d(1),r=null)},i:I,o:I,d(t){t&&d(e),r&&r.d()}}}function me(i,e,n){let{dict:a}=e;return i.$$set=s=>{"dict"in s&&n(0,a=s.dict)},[a]}class Ee extends B{constructor(e){super(),H(this,e,me,pe,C,{dict:0})}}export{Ee as D,ye as T,ke as a,be as e};
