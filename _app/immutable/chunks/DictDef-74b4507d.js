import{S as A,i as I,s as U,k as v,q as N,a as D,l as k,m as b,r as P,h as _,c as L,n as g,K as x,b as y,G as p,M as w,u as j,B as M,P as W,R as X,f as S,g as $,d as ee,t as H,Q as z,I as te,J as ne,w as le,x as se,y as ae,O as ie,z as re,A as oe}from"./index-d8102d1a.js";function pe(i){(i.code=="Enter"||i.code=="NumpadEnter"||i.code=="Escape")&&(i.target&&i.target.blur(),i.preventDefault())}function Y(i){if(i.code=="Enter"||i.code=="NumpadEnter"||i.code=="Escape"||i.code=="Space"){i.target&&i.target.blur(),i.preventDefault();return}}function ve(i){return i.code=="Escape"&&i.target?(i.target.blur(),!0):!1}function ce(i){let e,n,s,a,l,r,t,o;return{c(){e=v("div"),n=v("span"),s=N(i[0]),a=D(),l=v("button"),r=v("i"),this.h()},l(h){e=k(h,"DIV",{class:!0});var c=b(e);n=k(c,"SPAN",{class:!0,contenteditable:!0});var f=b(n);s=P(f,i[0]),f.forEach(_),a=L(c),l=k(c,"BUTTON",{class:!0});var u=b(l);r=k(u,"I",{class:!0}),b(r).forEach(_),u.forEach(_),c.forEach(_),this.h()},h(){g(n,"class","tag form-border svelte-1z9tvz"),g(n,"contenteditable","true"),i[0]===void 0&&x(()=>i[5].call(n)),g(r,"class","fa-solid fa-xmark"),g(l,"class","x-tag svelte-1z9tvz"),g(e,"class","tag-btn svelte-1z9tvz")},m(h,c){y(h,e,c),p(e,n),p(n,s),i[0]!==void 0&&(n.innerHTML=i[0]),p(e,a),p(e,l),p(l,r),t||(o=[w(n,"input",i[5]),w(n,"focusout",i[1]),w(n,"keydown",Y),w(r,"click",i[2]),w(r,"keydown",i[3])],t=!0)},p(h,[c]){c&1&&j(s,h[0]),c&1&&h[0]!==n.innerHTML&&(n.innerHTML=h[0])},i:M,o:M,d(h){h&&_(e),t=!1,W(o)}}}function fe(i,e,n){let{tag:s}=e,{index:a}=e;const l=X();function r(c){s==""||s=="<br>"?l("removeTag",{index:a}):l("tagUpdated",{tag:s,index:a})}function t(c){l("removeTag",{index:a})}function o(c){(c.code=="Enter"||c.code=="NumpadEnter")&&t()}function h(){s=this.innerHTML,n(0,s)}return i.$$set=c=>{"tag"in c&&n(0,s=c.tag),"index"in c&&n(4,a=c.index)},[s,r,t,o,a,h]}class ue extends A{constructor(e){super(),I(this,e,fe,ce,U,{tag:0,index:4})}}function B(i,e,n){const s=i.slice();return s[10]=e[n],s[11]=e,s[12]=n,s}function C(i){let e,n,s;function a(r){i[5](r,i[10],i[11],i[12])}let l={index:i[12]};return i[10]!==void 0&&(l.tag=i[10]),e=new ue({props:l}),te.push(()=>ne(e,"tag",a,i[10])),e.$on("removeTag",i[6]),e.$on("tagUpdated",i[7]),{c(){le(e.$$.fragment)},l(r){se(e.$$.fragment,r)},m(r,t){ae(e,r,t),s=!0},p(r,t){i=r;const o={};!n&&t&1&&(n=!0,o.tag=i[10],ie(()=>n=!1)),e.$set(o)},i(r){s||(S(e.$$.fragment,r),s=!0)},o(r){H(e.$$.fragment,r),s=!1},d(r){re(e,r)}}}function de(i){let e,n,s,a,l,r,t=i[0],o=[];for(let c=0;c<t.length;c+=1)o[c]=C(B(i,t,c));const h=c=>H(o[c],1,1,()=>{o[c]=null});return{c(){for(let c=0;c<o.length;c+=1)o[c].c();e=D(),n=v("span"),this.h()},l(c){for(let f=0;f<o.length;f+=1)o[f].l(c);e=L(c),n=k(c,"SPAN",{id:!0,class:!0,title:!0,placeholder:!0,contenteditable:!0}),b(n).forEach(_),this.h()},h(){g(n,"id",s=i[1]+"-tags"),g(n,"class","tag-input form-border svelte-174zga6"),g(n,"title","New tag"),g(n,"placeholder","+"),g(n,"contenteditable","true")},m(c,f){for(let u=0;u<o.length;u+=1)o[u].m(c,f);y(c,e,f),y(c,n,f),a=!0,l||(r=[w(n,"keydown",Y),w(n,"focusout",i[3])],l=!0)},p(c,[f]){if(f&21){t=c[0];let u;for(u=0;u<t.length;u+=1){const d=B(c,t,u);o[u]?(o[u].p(d,f),S(o[u],1)):(o[u]=C(d),o[u].c(),S(o[u],1),o[u].m(e.parentNode,e))}for($(),u=t.length;u<o.length;u+=1)h(u);ee()}(!a||f&2&&s!==(s=c[1]+"-tags"))&&g(n,"id",s)},i(c){if(!a){for(let f=0;f<t.length;f+=1)S(o[f]);a=!0}},o(c){o=o.filter(Boolean);for(let f=0;f<o.length;f+=1)H(o[f]);a=!1},d(c){z(o,c),c&&_(e),c&&_(n),l=!1,W(r)}}}function he(i,e,n){const s=X();let{key:a}=e,{tags:l=[]}=e;async function r(){await oe();const d=document.getElementById(`${a}-tags`);d&&d.focus()}function t(d){l[d.index]&&(n(0,l[d.index]=d.tag,l),s("updateTags"))}function o(d){const m=d.target;if(m.innerText){const T=m.innerText.trim().split(" ").map(E=>E.trim().toLowerCase()).filter(E=>E!=""&&E!="<br>");l.push(...T),n(0,l=[...new Set(l)]),m.innerText="",r(),s("updateTags")}}function h(d){l.splice(d.index,1),n(0,l),s("updateTags")}function c(d,m,T,E){T[E]=d,n(0,l)}const f=d=>h(d.detail),u=d=>t(d.detail);return i.$$set=d=>{"key"in d&&n(1,a=d.key),"tags"in d&&n(0,l=d.tags)},[l,a,t,o,h,c,f,u]}class ke extends A{constructor(e){super(),I(this,e,he,de,U,{key:1,tags:0})}}function q(i,e,n){const s=i.slice();return s[2]=e[n],s}function K(i,e,n){const s=i.slice();return s[5]=e[n],s}function O(i,e,n){const s=i.slice();return s[8]=e[n],s}function V(i){let e,n,s=i[0].parts,a=[];for(let l=0;l<s.length;l+=1)a[l]=F(q(i,s,l));return{c(){e=v("dd"),n=v("ul");for(let l=0;l<a.length;l+=1)a[l].c();this.h()},l(l){e=k(l,"DD",{});var r=b(e);n=k(r,"UL",{class:!0});var t=b(n);for(let o=0;o<a.length;o+=1)a[o].l(t);t.forEach(_),r.forEach(_),this.h()},h(){g(n,"class","svelte-xejudk")},m(l,r){y(l,e,r),p(e,n);for(let t=0;t<a.length;t+=1)a[t].m(n,null)},p(l,r){if(r&1){s=l[0].parts;let t;for(t=0;t<s.length;t+=1){const o=q(l,s,t);a[t]?a[t].p(o,r):(a[t]=F(o),a[t].c(),a[t].m(n,null))}for(;t<a.length;t+=1)a[t].d(1);a.length=s.length}},d(l){l&&_(e),z(a,l)}}}function G(i){let e,n,s=i[2].synonyms,a=[];for(let l=0;l<s.length;l+=1)a[l]=J(O(i,s,l));return{c(){e=v("p"),n=N(`Synonyms:
                                    `);for(let l=0;l<a.length;l+=1)a[l].c();this.h()},l(l){e=k(l,"P",{class:!0});var r=b(e);n=P(r,`Synonyms:
                                    `);for(let t=0;t<a.length;t+=1)a[t].l(r);r.forEach(_),this.h()},h(){g(e,"class","syn svelte-xejudk")},m(l,r){y(l,e,r),p(e,n);for(let t=0;t<a.length;t+=1)a[t].m(e,null)},p(l,r){if(r&1){s=l[2].synonyms;let t;for(t=0;t<s.length;t+=1){const o=O(l,s,t);a[t]?a[t].p(o,r):(a[t]=J(o),a[t].c(),a[t].m(e,null))}for(;t<a.length;t+=1)a[t].d(1);a.length=s.length}},d(l){l&&_(e),z(a,l)}}}function J(i){let e=i[8]+"",n;return{c(){n=N(e)},l(s){n=P(s,e)},m(s,a){y(s,n,a)},p(s,a){a&1&&e!==(e=s[8]+"")&&j(n,e)},d(s){s&&_(n)}}}function Q(i){let e,n,s=i[2].antonyms,a=[];for(let l=0;l<s.length;l+=1)a[l]=R(K(i,s,l));return{c(){e=v("p"),n=N(`Antonyms:
                                    `);for(let l=0;l<a.length;l+=1)a[l].c();this.h()},l(l){e=k(l,"P",{class:!0});var r=b(e);n=P(r,`Antonyms:
                                    `);for(let t=0;t<a.length;t+=1)a[t].l(r);r.forEach(_),this.h()},h(){g(e,"class","ant svelte-xejudk")},m(l,r){y(l,e,r),p(e,n);for(let t=0;t<a.length;t+=1)a[t].m(e,null)},p(l,r){if(r&1){s=l[2].antonyms;let t;for(t=0;t<s.length;t+=1){const o=K(l,s,t);a[t]?a[t].p(o,r):(a[t]=R(o),a[t].c(),a[t].m(e,null))}for(;t<a.length;t+=1)a[t].d(1);a.length=s.length}},d(l){l&&_(e),z(a,l)}}}function R(i){let e=i[5]+"",n;return{c(){n=N(e)},l(s){n=P(s,e)},m(s,a){y(s,n,a)},p(s,a){a&1&&e!==(e=s[5]+"")&&j(n,e)},d(s){s&&_(n)}}}function F(i){let e,n,s,a=i[2].part+"",l,r,t=i[2].definition+"",o,h,c,f=i[2].synonyms.length>0&&G(i),u=i[2].antonyms.length>0&&Q(i);return{c(){e=v("li"),n=v("p"),s=v("span"),l=D(),r=v("span"),o=D(),f&&f.c(),h=D(),u&&u.c(),c=D(),this.h()},l(d){e=k(d,"LI",{});var m=b(e);n=k(m,"P",{class:!0});var T=b(n);s=k(T,"SPAN",{class:!0});var E=b(s);E.forEach(_),l=L(T),r=k(T,"SPAN",{class:!0});var Z=b(r);Z.forEach(_),T.forEach(_),o=L(m),f&&f.l(m),h=L(m),u&&u.l(m),c=L(m),m.forEach(_),this.h()},h(){g(s,"class","pos svelte-xejudk"),g(r,"class","def"),g(n,"class","svelte-xejudk")},m(d,m){y(d,e,m),p(e,n),p(n,s),s.innerHTML=a,p(n,l),p(n,r),r.innerHTML=t,p(e,o),f&&f.m(e,null),p(e,h),u&&u.m(e,null),p(e,c)},p(d,m){m&1&&a!==(a=d[2].part+"")&&(s.innerHTML=a),m&1&&t!==(t=d[2].definition+"")&&(r.innerHTML=t),d[2].synonyms.length>0?f?f.p(d,m):(f=G(d),f.c(),f.m(e,h)):f&&(f.d(1),f=null),d[2].antonyms.length>0?u?u.p(d,m):(u=Q(d),u.c(),u.m(e,c)):u&&(u.d(1),u=null)},d(d){d&&_(e),f&&f.d(),u&&u.d()}}}function _e(i){let e,n,s,a=i[0].word+"",l,r,t=i[0].parts.length>0&&V(i);return{c(){e=v("div"),n=v("dl"),s=v("dt"),l=N(a),t&&t.c(),this.h()},l(o){e=k(o,"DIV",{class:!0});var h=b(e);n=k(h,"DL",{class:!0});var c=b(n);s=k(c,"DT",{});var f=b(s);l=P(f,a),f.forEach(_),t&&t.l(c),c.forEach(_),h.forEach(_),this.h()},h(){g(n,"class","svelte-xejudk"),g(e,"class",r="dict-def-container "+i[1]+" svelte-xejudk")},m(o,h){y(o,e,h),p(e,n),p(n,s),p(s,l),t&&t.m(n,null)},p(o,[h]){h&1&&a!==(a=o[0].word+"")&&j(l,a),o[0].parts.length>0?t?t.p(o,h):(t=V(o),t.c(),t.m(n,null)):t&&(t.d(1),t=null),h&2&&r!==(r="dict-def-container "+o[1]+" svelte-xejudk")&&g(e,"class",r)},i:M,o:M,d(o){o&&_(e),t&&t.d()}}}function ge(i,e,n){let{dict:s}=e,{scheme:a=""}=e;return i.$$set=l=>{"dict"in l&&n(0,s=l.dict),"scheme"in l&&n(1,a=l.scheme)},[s,a]}class be extends A{constructor(e){super(),I(this,e,ge,_e,U,{dict:0,scheme:1})}}export{be as D,ke as T,ve as a,pe as e};
