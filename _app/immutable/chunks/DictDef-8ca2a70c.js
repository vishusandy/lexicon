import{S as I,i as U,s as z,k as v,q as M,a as D,l as b,m as k,r as N,h,c as L,n as g,Q as x,b as T,G as p,M as w,u as B,B as S,P as W,R as X,f as P,g as $,d as ee,t as A,I as H,J as te,K as ne,w as le,x as se,y as ae,O as ie,z as re,A as oe}from"./index-e56e8534.js";import{e as ce}from"./words-9970dd32.js";function be(i){(i.code=="Enter"||i.code=="NumpadEnter"||i.code=="Escape")&&(i.target&&i.target.blur(),i.preventDefault())}function Y(i){if(i.code=="Enter"||i.code=="NumpadEnter"||i.code=="Escape"||i.code=="Space"){i.target&&i.target.blur(),i.preventDefault();return}}function ke(i){return i.code=="Escape"&&i.target?(i.target.blur(),!0):!1}function fe(i){let e,l,s,a,t,r,n,c;return{c(){e=v("div"),l=v("span"),s=M(i[0]),a=D(),t=v("button"),r=v("i"),this.h()},l(_){e=b(_,"DIV",{class:!0});var o=k(e);l=b(o,"SPAN",{class:!0,contenteditable:!0});var f=k(l);s=N(f,i[0]),f.forEach(h),a=L(o),t=b(o,"BUTTON",{class:!0});var u=k(t);r=b(u,"I",{class:!0}),k(r).forEach(h),u.forEach(h),o.forEach(h),this.h()},h(){g(l,"class","tag form-border svelte-t2opz1"),g(l,"contenteditable","true"),i[0]===void 0&&x(()=>i[5].call(l)),g(r,"class","fa-solid fa-xmark"),g(t,"class","x-tag svelte-t2opz1"),g(e,"class","tag-btn svelte-t2opz1")},m(_,o){T(_,e,o),p(e,l),p(l,s),i[0]!==void 0&&(l.innerHTML=i[0]),p(e,a),p(e,t),p(t,r),n||(c=[w(l,"input",i[5]),w(l,"focusout",i[1]),w(l,"keydown",Y),w(r,"click",i[2]),w(r,"keydown",i[3])],n=!0)},p(_,[o]){o&1&&B(s,_[0]),o&1&&_[0]!==l.innerHTML&&(l.innerHTML=_[0])},i:S,o:S,d(_){_&&h(e),n=!1,W(c)}}}function ue(i,e,l){let{tag:s}=e,{index:a}=e;const t=X();function r(o){s==""||s=="<br>"?t("removeTag",{index:a}):t("tagUpdated",{tag:s,index:a})}function n(o){t("removeTag",{index:a})}function c(o){(o.code=="Enter"||o.code=="NumpadEnter")&&n()}function _(){s=this.innerHTML,l(0,s)}return i.$$set=o=>{"tag"in o&&l(0,s=o.tag),"index"in o&&l(4,a=o.index)},[s,r,n,c,a,_]}class de extends I{constructor(e){super(),U(this,e,ue,fe,z,{tag:0,index:4})}}function q(i,e,l){const s=i.slice();return s[10]=e[l],s[11]=e,s[12]=l,s}function C(i){let e,l,s;function a(r){i[5](r,i[10],i[11],i[12])}let t={index:i[12]};return i[10]!==void 0&&(t.tag=i[10]),e=new de({props:t}),te.push(()=>ne(e,"tag",a,i[10])),e.$on("removeTag",i[6]),e.$on("tagUpdated",i[7]),{c(){le(e.$$.fragment)},l(r){se(e.$$.fragment,r)},m(r,n){ae(e,r,n),s=!0},p(r,n){i=r;const c={};!l&&n&1&&(l=!0,c.tag=i[10],ie(()=>l=!1)),e.$set(c)},i(r){s||(P(e.$$.fragment,r),s=!0)},o(r){A(e.$$.fragment,r),s=!1},d(r){re(e,r)}}}function he(i){let e,l,s,a,t,r,n=i[0],c=[];for(let o=0;o<n.length;o+=1)c[o]=C(q(i,n,o));const _=o=>A(c[o],1,1,()=>{c[o]=null});return{c(){for(let o=0;o<c.length;o+=1)c[o].c();e=D(),l=v("span"),this.h()},l(o){for(let f=0;f<c.length;f+=1)c[f].l(o);e=L(o),l=b(o,"SPAN",{id:!0,class:!0,title:!0,placeholder:!0,contenteditable:!0}),k(l).forEach(h),this.h()},h(){g(l,"id",s=i[1]+"-tags"),g(l,"class","tag-input form-border svelte-16zqg8i"),g(l,"title","New tag"),g(l,"placeholder","+"),g(l,"contenteditable","true")},m(o,f){for(let u=0;u<c.length;u+=1)c[u].m(o,f);T(o,e,f),T(o,l,f),a=!0,t||(r=[w(l,"keydown",Y),w(l,"focusout",i[3])],t=!0)},p(o,[f]){if(f&21){n=o[0];let u;for(u=0;u<n.length;u+=1){const d=q(o,n,u);c[u]?(c[u].p(d,f),P(c[u],1)):(c[u]=C(d),c[u].c(),P(c[u],1),c[u].m(e.parentNode,e))}for($(),u=n.length;u<c.length;u+=1)_(u);ee()}(!a||f&2&&s!==(s=o[1]+"-tags"))&&g(l,"id",s)},i(o){if(!a){for(let f=0;f<n.length;f+=1)P(c[f]);a=!0}},o(o){c=c.filter(Boolean);for(let f=0;f<c.length;f+=1)A(c[f]);a=!1},d(o){H(c,o),o&&h(e),o&&h(l),t=!1,W(r)}}}function _e(i,e,l){const s=X();let{key:a}=e,{tags:t=[]}=e;async function r(){await oe();const d=document.getElementById(`${a}-tags`);d&&d.focus()}function n(d){t[d.index]&&(l(0,t[d.index]=d.tag,t),s("updateTags"))}function c(d){const m=d.target;if(m.innerText){const y=m.innerText.trim().split(" ").map(E=>E.trim().toLowerCase()).filter(E=>E!=""&&E!="<br>");t.push(...y),l(0,t=[...new Set(t)]),m.innerText="",r(),s("updateTags")}}function _(d){t.splice(d.index,1),l(0,t),s("updateTags")}function o(d,m,y,E){y[E]=d,l(0,t)}const f=d=>_(d.detail),u=d=>n(d.detail);return i.$$set=d=>{"key"in d&&l(1,a=d.key),"tags"in d&&l(0,t=d.tags)},[t,a,n,c,_,o,f,u]}class Te extends I{constructor(e){super(),U(this,e,_e,he,z,{key:1,tags:0})}}function K(i,e,l){const s=i.slice();return s[4]=e[l],s}function O(i,e,l){const s=i.slice();return s[7]=e[l],s}function V(i,e,l){const s=i.slice();return s[10]=e[l],s}function G(i){let e,l,s=i[0].parts,a=[];for(let t=0;t<s.length;t+=1)a[t]=F(K(i,s,t));return{c(){e=v("dd"),l=v("ul");for(let t=0;t<a.length;t+=1)a[t].c();this.h()},l(t){e=b(t,"DD",{});var r=k(e);l=b(r,"UL",{class:!0});var n=k(l);for(let c=0;c<a.length;c+=1)a[c].l(n);n.forEach(h),r.forEach(h),this.h()},h(){g(l,"class","svelte-1d2rxo0")},m(t,r){T(t,e,r),p(e,l);for(let n=0;n<a.length;n+=1)a[n].m(l,null)},p(t,r){if(r&1){s=t[0].parts;let n;for(n=0;n<s.length;n+=1){const c=K(t,s,n);a[n]?a[n].p(c,r):(a[n]=F(c),a[n].c(),a[n].m(l,null))}for(;n<a.length;n+=1)a[n].d(1);a.length=s.length}},d(t){t&&h(e),H(a,t)}}}function J(i){let e,l,s=i[4].synonyms,a=[];for(let t=0;t<s.length;t+=1)a[t]=Q(V(i,s,t));return{c(){e=v("p"),l=M(`Synonyms:
                                    `);for(let t=0;t<a.length;t+=1)a[t].c();this.h()},l(t){e=b(t,"P",{class:!0});var r=k(e);l=N(r,`Synonyms:
                                    `);for(let n=0;n<a.length;n+=1)a[n].l(r);r.forEach(h),this.h()},h(){g(e,"class","syn svelte-1d2rxo0")},m(t,r){T(t,e,r),p(e,l);for(let n=0;n<a.length;n+=1)a[n].m(e,null)},p(t,r){if(r&1){s=t[4].synonyms;let n;for(n=0;n<s.length;n+=1){const c=V(t,s,n);a[n]?a[n].p(c,r):(a[n]=Q(c),a[n].c(),a[n].m(e,null))}for(;n<a.length;n+=1)a[n].d(1);a.length=s.length}},d(t){t&&h(e),H(a,t)}}}function Q(i){let e=i[10]+"",l;return{c(){l=M(e)},l(s){l=N(s,e)},m(s,a){T(s,l,a)},p(s,a){a&1&&e!==(e=s[10]+"")&&B(l,e)},d(s){s&&h(l)}}}function R(i){let e,l,s=i[4].antonyms,a=[];for(let t=0;t<s.length;t+=1)a[t]=j(O(i,s,t));return{c(){e=v("p"),l=M(`Antonyms:
                                    `);for(let t=0;t<a.length;t+=1)a[t].c();this.h()},l(t){e=b(t,"P",{class:!0});var r=k(e);l=N(r,`Antonyms:
                                    `);for(let n=0;n<a.length;n+=1)a[n].l(r);r.forEach(h),this.h()},h(){g(e,"class","ant svelte-1d2rxo0")},m(t,r){T(t,e,r),p(e,l);for(let n=0;n<a.length;n+=1)a[n].m(e,null)},p(t,r){if(r&1){s=t[4].antonyms;let n;for(n=0;n<s.length;n+=1){const c=O(t,s,n);a[n]?a[n].p(c,r):(a[n]=j(c),a[n].c(),a[n].m(e,null))}for(;n<a.length;n+=1)a[n].d(1);a.length=s.length}},d(t){t&&h(e),H(a,t)}}}function j(i){let e=i[7]+"",l;return{c(){l=M(e)},l(s){l=N(s,e)},m(s,a){T(s,l,a)},p(s,a){a&1&&e!==(e=s[7]+"")&&B(l,e)},d(s){s&&h(l)}}}function F(i){let e,l,s,a=i[4].part+"",t,r,n=i[4].definition+"",c,_,o,f=i[4].synonyms.length>0&&J(i),u=i[4].antonyms.length>0&&R(i);return{c(){e=v("li"),l=v("p"),s=v("span"),t=D(),r=v("span"),c=D(),f&&f.c(),_=D(),u&&u.c(),o=D(),this.h()},l(d){e=b(d,"LI",{});var m=k(e);l=b(m,"P",{class:!0});var y=k(l);s=b(y,"SPAN",{class:!0});var E=k(s);E.forEach(h),t=L(y),r=b(y,"SPAN",{class:!0});var Z=k(r);Z.forEach(h),y.forEach(h),c=L(m),f&&f.l(m),_=L(m),u&&u.l(m),o=L(m),m.forEach(h),this.h()},h(){g(s,"class","pos svelte-1d2rxo0"),g(r,"class","def"),g(l,"class","svelte-1d2rxo0")},m(d,m){T(d,e,m),p(e,l),p(l,s),s.innerHTML=a,p(l,t),p(l,r),r.innerHTML=n,p(e,c),f&&f.m(e,null),p(e,_),u&&u.m(e,null),p(e,o)},p(d,m){m&1&&a!==(a=d[4].part+"")&&(s.innerHTML=a),m&1&&n!==(n=d[4].definition+"")&&(r.innerHTML=n),d[4].synonyms.length>0?f?f.p(d,m):(f=J(d),f.c(),f.m(e,_)):f&&(f.d(1),f=null),d[4].antonyms.length>0?u?u.p(d,m):(u=R(d),u.c(),u.m(e,o)):u&&(u.d(1),u=null)},d(d){d&&h(e),f&&f.d(),u&&u.d()}}}function ge(i){let e,l,s,a,t=i[0].parts.length>0&&G(i);return{c(){e=v("div"),l=v("dl"),s=v("dt"),t&&t.c(),this.h()},l(r){e=b(r,"DIV",{class:!0});var n=k(e);l=b(n,"DL",{class:!0});var c=k(l);s=b(c,"DT",{class:!0});var _=k(s);_.forEach(h),t&&t.l(c),c.forEach(h),n.forEach(h),this.h()},h(){g(s,"class","svelte-1d2rxo0"),g(l,"class","svelte-1d2rxo0"),g(e,"class",a="dict-def-container "+i[1]+" svelte-1d2rxo0")},m(r,n){T(r,e,n),p(e,l),p(l,s),s.innerHTML=i[2],t&&t.m(l,null)},p(r,[n]){n&4&&(s.innerHTML=r[2]),r[0].parts.length>0?t?t.p(r,n):(t=G(r),t.c(),t.m(l,null)):t&&(t.d(1),t=null),n&2&&a!==(a="dict-def-container "+r[1]+" svelte-1d2rxo0")&&g(e,"class",a)},i:S,o:S,d(r){r&&h(e),t&&t.d()}}}function me(i,e,l){let{dict:s}=e,{scheme:a=""}=e,{search:t=[]}=e,r;return i.$$set=n=>{"dict"in n&&l(0,s=n.dict),"scheme"in n&&l(1,a=n.scheme),"search"in n&&l(3,t=n.search)},i.$$.update=()=>{i.$$.dirty&9&&l(2,r=ce(s.word,t))},[s,a,r,t]}class ye extends I{constructor(e){super(),U(this,e,me,ge,z,{dict:0,scheme:1,search:3})}}export{ye as D,Te as T,ke as a,be as e};
