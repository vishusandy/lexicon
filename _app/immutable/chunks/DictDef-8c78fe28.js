import{S as U,i as B,s as C,k as v,q as N,a as D,l as b,m as k,r as P,h,c as L,n as p,K as $,b as y,G as m,M as w,u as H,B as M,P as W,R as X,f as S,g as x,d as ee,t as I,Q as A,I as te,J as ne,w as le,x as se,y as ae,O as ie,z as re,A as oe}from"./index-d8102d1a.js";function me(i){(i.code=="Enter"||i.code=="NumpadEnter"||i.code=="Escape")&&(i.target&&i.target.blur(),i.preventDefault())}function Y(i){if(i.code=="Enter"||i.code=="NumpadEnter"||i.code=="Escape"||i.code=="Space"){i.target&&i.target.blur(),i.preventDefault();return}}function ve(i){return i.code=="Escape"&&i.target?(i.target.blur(),!0):!1}function ce(i){let e,t,s,a,l,r,n,c;return{c(){e=v("div"),t=v("span"),s=N(i[0]),a=D(),l=v("button"),r=v("i"),this.h()},l(_){e=b(_,"DIV",{class:!0});var o=k(e);t=b(o,"SPAN",{class:!0,contenteditable:!0});var f=k(t);s=P(f,i[0]),f.forEach(h),a=L(o),l=b(o,"BUTTON",{class:!0});var u=k(l);r=b(u,"I",{class:!0}),k(r).forEach(h),u.forEach(h),o.forEach(h),this.h()},h(){p(t,"class","tag form-border svelte-1a2h1sg"),p(t,"contenteditable","true"),i[0]===void 0&&$(()=>i[5].call(t)),p(r,"class","fa-solid fa-xmark"),p(l,"class","x-tag svelte-1a2h1sg"),p(e,"class","tag-btn svelte-1a2h1sg")},m(_,o){y(_,e,o),m(e,t),m(t,s),i[0]!==void 0&&(t.innerHTML=i[0]),m(e,a),m(e,l),m(l,r),n||(c=[w(t,"input",i[5]),w(t,"focusout",i[1]),w(t,"keydown",Y),w(r,"click",i[2]),w(r,"keydown",i[3])],n=!0)},p(_,[o]){o&1&&H(s,_[0]),o&1&&_[0]!==t.innerHTML&&(t.innerHTML=_[0])},i:M,o:M,d(_){_&&h(e),n=!1,W(c)}}}function fe(i,e,t){let{tag:s}=e,{index:a}=e;const l=X();function r(o){s==""||s=="<br>"?l("removeTag",{index:a}):l("tagUpdated",{tag:s,index:a})}function n(o){l("removeTag",{index:a})}function c(o){(o.code=="Enter"||o.code=="NumpadEnter")&&n()}function _(){s=this.innerHTML,t(0,s)}return i.$$set=o=>{"tag"in o&&t(0,s=o.tag),"index"in o&&t(4,a=o.index)},[s,r,n,c,a,_]}class ue extends U{constructor(e){super(),B(this,e,fe,ce,C,{tag:0,index:4})}}function q(i,e,t){const s=i.slice();return s[10]=e[t],s[11]=e,s[12]=t,s}function K(i){let e,t,s;function a(r){i[5](r,i[10],i[11],i[12])}let l={index:i[12]};return i[10]!==void 0&&(l.tag=i[10]),e=new ue({props:l}),te.push(()=>ne(e,"tag",a,i[10])),e.$on("removeTag",i[6]),e.$on("tagUpdated",i[7]),{c(){le(e.$$.fragment)},l(r){se(e.$$.fragment,r)},m(r,n){ae(e,r,n),s=!0},p(r,n){i=r;const c={};!t&&n&1&&(t=!0,c.tag=i[10],ie(()=>t=!1)),e.$set(c)},i(r){s||(S(e.$$.fragment,r),s=!0)},o(r){I(e.$$.fragment,r),s=!1},d(r){re(e,r)}}}function de(i){let e,t,s,a,l,r,n=i[0],c=[];for(let o=0;o<n.length;o+=1)c[o]=K(q(i,n,o));const _=o=>I(c[o],1,1,()=>{c[o]=null});return{c(){for(let o=0;o<c.length;o+=1)c[o].c();e=D(),t=v("span"),this.h()},l(o){for(let f=0;f<c.length;f+=1)c[f].l(o);e=L(o),t=b(o,"SPAN",{id:!0,class:!0,title:!0,placeholder:!0,contenteditable:!0}),k(t).forEach(h),this.h()},h(){p(t,"id",s=i[1]+"-tags"),p(t,"class","tag-input form-border svelte-13gfl04"),p(t,"title","New tag"),p(t,"placeholder","+"),p(t,"contenteditable","true")},m(o,f){for(let u=0;u<c.length;u+=1)c[u].m(o,f);y(o,e,f),y(o,t,f),a=!0,l||(r=[w(t,"keydown",Y),w(t,"focusout",i[3])],l=!0)},p(o,[f]){if(f&21){n=o[0];let u;for(u=0;u<n.length;u+=1){const d=q(o,n,u);c[u]?(c[u].p(d,f),S(c[u],1)):(c[u]=K(d),c[u].c(),S(c[u],1),c[u].m(e.parentNode,e))}for(x(),u=n.length;u<c.length;u+=1)_(u);ee()}(!a||f&2&&s!==(s=o[1]+"-tags"))&&p(t,"id",s)},i(o){if(!a){for(let f=0;f<n.length;f+=1)S(c[f]);a=!0}},o(o){c=c.filter(Boolean);for(let f=0;f<c.length;f+=1)I(c[f]);a=!1},d(o){A(c,o),o&&h(e),o&&h(t),l=!1,W(r)}}}function he(i,e,t){const s=X();let{key:a}=e,{tags:l=[]}=e;async function r(){await oe();const d=document.getElementById(`${a}-tags`);d&&d.focus()}function n(d){l[d.index]&&(t(0,l[d.index]=d.tag,l),s("updateTags"))}function c(d){const g=d.target;if(g.innerText){const T=g.innerText.trim().split(" ").map(E=>E.trim().toLowerCase()).filter(E=>E!=""&&E!="<br>");l.push(...T),t(0,l=[...new Set(l)]),g.innerText="",r(),s("updateTags")}}function _(d){l.splice(d.index,1),t(0,l),s("updateTags")}function o(d,g,T,E){T[E]=d,t(0,l)}const f=d=>_(d.detail),u=d=>n(d.detail);return i.$$set=d=>{"key"in d&&t(1,a=d.key),"tags"in d&&t(0,l=d.tags)},[l,a,n,c,_,o,f,u]}class be extends U{constructor(e){super(),B(this,e,he,de,C,{key:1,tags:0})}}function O(i,e,t){const s=i.slice();return s[1]=e[t],s}function V(i,e,t){const s=i.slice();return s[4]=e[t],s}function z(i,e,t){const s=i.slice();return s[7]=e[t],s}function G(i){let e,t,s=i[0].parts,a=[];for(let l=0;l<s.length;l+=1)a[l]=F(O(i,s,l));return{c(){e=v("dd"),t=v("ul");for(let l=0;l<a.length;l+=1)a[l].c();this.h()},l(l){e=b(l,"DD",{});var r=k(e);t=b(r,"UL",{class:!0});var n=k(t);for(let c=0;c<a.length;c+=1)a[c].l(n);n.forEach(h),r.forEach(h),this.h()},h(){p(t,"class","svelte-nncedk")},m(l,r){y(l,e,r),m(e,t);for(let n=0;n<a.length;n+=1)a[n].m(t,null)},p(l,r){if(r&1){s=l[0].parts;let n;for(n=0;n<s.length;n+=1){const c=O(l,s,n);a[n]?a[n].p(c,r):(a[n]=F(c),a[n].c(),a[n].m(t,null))}for(;n<a.length;n+=1)a[n].d(1);a.length=s.length}},d(l){l&&h(e),A(a,l)}}}function J(i){let e,t,s=i[1].synonyms,a=[];for(let l=0;l<s.length;l+=1)a[l]=Q(z(i,s,l));return{c(){e=v("p"),t=N(`Synonyms:
                                    `);for(let l=0;l<a.length;l+=1)a[l].c();this.h()},l(l){e=b(l,"P",{class:!0});var r=k(e);t=P(r,`Synonyms:
                                    `);for(let n=0;n<a.length;n+=1)a[n].l(r);r.forEach(h),this.h()},h(){p(e,"class","syn svelte-nncedk")},m(l,r){y(l,e,r),m(e,t);for(let n=0;n<a.length;n+=1)a[n].m(e,null)},p(l,r){if(r&1){s=l[1].synonyms;let n;for(n=0;n<s.length;n+=1){const c=z(l,s,n);a[n]?a[n].p(c,r):(a[n]=Q(c),a[n].c(),a[n].m(e,null))}for(;n<a.length;n+=1)a[n].d(1);a.length=s.length}},d(l){l&&h(e),A(a,l)}}}function Q(i){let e=i[7]+"",t;return{c(){t=N(e)},l(s){t=P(s,e)},m(s,a){y(s,t,a)},p(s,a){a&1&&e!==(e=s[7]+"")&&H(t,e)},d(s){s&&h(t)}}}function R(i){let e,t,s=i[1].antonyms,a=[];for(let l=0;l<s.length;l+=1)a[l]=j(V(i,s,l));return{c(){e=v("p"),t=N(`Antonyms:
                                    `);for(let l=0;l<a.length;l+=1)a[l].c();this.h()},l(l){e=b(l,"P",{class:!0});var r=k(e);t=P(r,`Antonyms:
                                    `);for(let n=0;n<a.length;n+=1)a[n].l(r);r.forEach(h),this.h()},h(){p(e,"class","ant svelte-nncedk")},m(l,r){y(l,e,r),m(e,t);for(let n=0;n<a.length;n+=1)a[n].m(e,null)},p(l,r){if(r&1){s=l[1].antonyms;let n;for(n=0;n<s.length;n+=1){const c=V(l,s,n);a[n]?a[n].p(c,r):(a[n]=j(c),a[n].c(),a[n].m(e,null))}for(;n<a.length;n+=1)a[n].d(1);a.length=s.length}},d(l){l&&h(e),A(a,l)}}}function j(i){let e=i[4]+"",t;return{c(){t=N(e)},l(s){t=P(s,e)},m(s,a){y(s,t,a)},p(s,a){a&1&&e!==(e=s[4]+"")&&H(t,e)},d(s){s&&h(t)}}}function F(i){let e,t,s,a=i[1].part+"",l,r,n=i[1].definition+"",c,_,o,f=i[1].synonyms.length>0&&J(i),u=i[1].antonyms.length>0&&R(i);return{c(){e=v("li"),t=v("p"),s=v("span"),l=D(),r=v("span"),c=D(),f&&f.c(),_=D(),u&&u.c(),o=D(),this.h()},l(d){e=b(d,"LI",{});var g=k(e);t=b(g,"P",{class:!0});var T=k(t);s=b(T,"SPAN",{class:!0});var E=k(s);E.forEach(h),l=L(T),r=b(T,"SPAN",{class:!0});var Z=k(r);Z.forEach(h),T.forEach(h),c=L(g),f&&f.l(g),_=L(g),u&&u.l(g),o=L(g),g.forEach(h),this.h()},h(){p(s,"class","pos svelte-nncedk"),p(r,"class","def"),p(t,"class","svelte-nncedk")},m(d,g){y(d,e,g),m(e,t),m(t,s),s.innerHTML=a,m(t,l),m(t,r),r.innerHTML=n,m(e,c),f&&f.m(e,null),m(e,_),u&&u.m(e,null),m(e,o)},p(d,g){g&1&&a!==(a=d[1].part+"")&&(s.innerHTML=a),g&1&&n!==(n=d[1].definition+"")&&(r.innerHTML=n),d[1].synonyms.length>0?f?f.p(d,g):(f=J(d),f.c(),f.m(e,_)):f&&(f.d(1),f=null),d[1].antonyms.length>0?u?u.p(d,g):(u=R(d),u.c(),u.m(e,o)):u&&(u.d(1),u=null)},d(d){d&&h(e),f&&f.d(),u&&u.d()}}}function _e(i){let e,t,s,a=i[0].word+"",l,r=i[0].parts.length>0&&G(i);return{c(){e=v("div"),t=v("dl"),s=v("dt"),l=N(a),r&&r.c(),this.h()},l(n){e=b(n,"DIV",{class:!0});var c=k(e);t=b(c,"DL",{class:!0});var _=k(t);s=b(_,"DT",{});var o=k(s);l=P(o,a),o.forEach(h),r&&r.l(_),_.forEach(h),c.forEach(h),this.h()},h(){p(t,"class","svelte-nncedk"),p(e,"class","dict-def-container")},m(n,c){y(n,e,c),m(e,t),m(t,s),m(s,l),r&&r.m(t,null)},p(n,[c]){c&1&&a!==(a=n[0].word+"")&&H(l,a),n[0].parts.length>0?r?r.p(n,c):(r=G(n),r.c(),r.m(t,null)):r&&(r.d(1),r=null)},i:M,o:M,d(n){n&&h(e),r&&r.d()}}}function ge(i,e,t){let{dict:s}=e;return i.$$set=a=>{"dict"in a&&t(0,s=a.dict)},[s]}class ke extends U{constructor(e){super(),B(this,e,ge,_e,C,{dict:0})}}export{ke as D,be as T,ve as a,me as e};
