import{S as re,i as oe,s as ue,C as Be,k as b,a as R,q as W,l as v,m as g,c as M,r as Y,h as c,n as a,b as S,G as p,M as G,_ as De,D as Te,E as Se,F as Ne,u as de,f as J,t as K,P as ie,w as Z,x,y as ee,Y as Ce,z as te,L as ae,$ as $e,B as Q}from"../../../chunks/index-cee4d27d.js";import{d as Ve,p as Le,c as Oe}from"../../../chunks/words-8389f65f.js";import{N as Ue}from"../../../chunks/Nav-a840a3dd.js";function Re(s){let e,l,t,r,u,n,m,i,o,_,D,h,f;const k=s[9].default,y=Be(k,s,s[8],null);return{c(){e=b("dialog"),l=b("div"),t=b("form"),y&&y.c(),r=R(),u=b("div"),n=b("button"),m=W(s[0]),i=R(),o=b("button"),_=W(s[1]),this.h()},l(B){e=v(B,"DIALOG",{class:!0,id:!0});var C=g(e);l=v(C,"DIV",{class:!0});var N=g(l);t=v(N,"FORM",{method:!0});var U=g(t);y&&y.l(U),r=M(U),u=v(U,"DIV",{class:!0});var L=g(u);n=v(L,"BUTTON",{type:!0,class:!0});var j=g(n);m=Y(j,s[0]),j.forEach(c),i=M(L),o=v(L,"BUTTON",{type:!0,class:!0});var O=g(o);_=Y(O,s[1]),O.forEach(c),L.forEach(c),U.forEach(c),N.forEach(c),C.forEach(c),this.h()},h(){a(n,"type","submit"),a(n,"class","btn btn-primary"),a(o,"type","button"),a(o,"class","btn btn-secondary"),a(u,"class","dialog-controls svelte-153o6vl"),a(t,"method","dialog"),a(l,"class","modal-wrapper svelte-153o6vl"),a(e,"class","modal svelte-153o6vl"),a(e,"id",s[2])},m(B,C){S(B,e,C),p(e,l),p(l,t),y&&y.m(t,null),p(t,r),p(t,u),p(u,n),p(n,m),p(u,i),p(u,o),p(o,_),D=!0,h||(f=[G(o,"click",s[3]),G(t,"submit",s[5]),G(e,"click",De(s[3])),G(e,"close",s[4])],h=!0)},p(B,[C]){y&&y.p&&(!D||C&256)&&Te(y,k,B,B[8],D?Ne(k,B[8],C,null):Se(B[8]),null),(!D||C&1)&&de(m,B[0]),(!D||C&2)&&de(_,B[1]),(!D||C&4)&&a(e,"id",B[2])},i(B){D||(J(y,B),D=!0)},o(B){K(y,B),D=!1},d(B){B&&c(e),y&&y.d(B),h=!1,ie(f)}}}function ge(s){s.querySelectorAll("form").forEach(e=>{e.reset()})}function Me(s,e,l){let{$$slots:t={},$$scope:r}=e,{onClose:u=()=>{}}=e,{onSubmit:n}=e,{submit_text:m="Submit"}=e,{cancel_text:i="Cancel"}=e,{id:o}=e;function _(f){const k=document.getElementById(o);k&&(u(k,f),ge(k),k.close())}function D(f){const k=document.getElementById(o);k&&(u(k,f),ge(k))}function h(f){const k=document.getElementById(o);if(!k){f.preventDefault();return}n(k,f)?k.close():f.preventDefault()}return s.$$set=f=>{"onClose"in f&&l(6,u=f.onClose),"onSubmit"in f&&l(7,n=f.onSubmit),"submit_text"in f&&l(0,m=f.submit_text),"cancel_text"in f&&l(1,i=f.cancel_text),"id"in f&&l(2,o=f.id),"$$scope"in f&&l(8,r=f.$$scope)},[m,i,o,_,D,h,u,n,r,t]}class ye extends re{constructor(e){super(),oe(this,e,Me,Re,ue,{onClose:6,onSubmit:7,submit_text:0,cancel_text:1,id:2})}}function Ee(s,e,l){const t=s.slice();return t[23]=e[l],t}function Pe(s){let e,l;return{c(){e=b("button"),l=b("i"),this.h()},l(t){e=v(t,"BUTTON",{type:!0,class:!0});var r=g(e);l=v(r,"I",{class:!0}),g(l).forEach(c),r.forEach(c),this.h()},h(){a(l,"class","fa-solid fa-xmark"),a(e,"type","button"),a(e,"class","remove-btn svelte-10sp5r"),e.disabled=!0},m(t,r){S(t,e,r),p(e,l)},p:Q,d(t){t&&c(e)}}}function qe(s){let e,l,t,r;function u(...n){return s[13](s[23],...n)}return{c(){e=b("button"),l=b("i"),this.h()},l(n){e=v(n,"BUTTON",{type:!0,class:!0});var m=g(e);l=v(m,"I",{class:!0}),g(l).forEach(c),m.forEach(c),this.h()},h(){a(l,"class","fa-solid fa-xmark"),a(e,"type","button"),a(e,"class","remove-btn svelte-10sp5r")},m(n,m){S(n,e,m),p(e,l),t||(r=G(e,"click",u),t=!0)},p(n,m){s=n},d(n){n&&c(e),t=!1,r()}}}function Ge(s){let e,l;return{c(){e=b("button"),l=b("i"),this.h()},l(t){e=v(t,"BUTTON",{type:!0,class:!0});var r=g(e);l=v(r,"I",{class:!0}),g(l).forEach(c),r.forEach(c),this.h()},h(){a(l,"class","fa-solid fa-pen"),a(e,"type","button"),e.disabled=!0,a(e,"class","btn rename-btn svelte-10sp5r")},m(t,r){S(t,e,r),p(e,l)},p:Q,d(t){t&&c(e)}}}function Ae(s){let e,l,t,r,u,n,m,i,o,_;function D(...h){return s[15](s[23],...h)}return{c(){e=b("button"),l=b("i"),u=R(),n=b("input"),this.h()},l(h){e=v(h,"BUTTON",{type:!0,id:!0,title:!0,class:!0});var f=g(e);l=v(f,"I",{class:!0}),g(l).forEach(c),f.forEach(c),u=M(h),n=v(h,"INPUT",{type:!0,name:!0,class:!0,title:!0,id:!0}),this.h()},h(){a(l,"class","fa-solid fa-pen"),a(e,"type","submit"),a(e,"id",t=s[0]+"-backup-rename-"+s[23].name),a(e,"title","Rename backup"),e.value=r=s[23].name,a(e,"class","btn rename-btn svelte-10sp5r"),a(n,"type","radio"),a(n,"name","btn-edit"),a(n,"class","btn-edit svelte-10sp5r"),a(n,"title","Select backup for restore"),a(n,"id",m=s[0]+"-restore-"+s[23].key),n.required=!0,n.value=i=s[23].name},m(h,f){S(h,e,f),p(e,l),S(h,u,f),S(h,n,f),o||(_=G(e,"click",D),o=!0)},p(h,f){s=h,f&3&&t!==(t=s[0]+"-backup-rename-"+s[23].name)&&a(e,"id",t),f&2&&r!==(r=s[23].name)&&(e.value=r),f&3&&m!==(m=s[0]+"-restore-"+s[23].key)&&a(n,"id",m),f&2&&i!==(i=s[23].name)&&(n.value=i)},d(h){h&&c(e),h&&c(u),h&&c(n),o=!1,_()}}}function Ie(s,e){let l,t,r,u,n,m,i,o,_,D=e[23].name+"",h,f,k,y;function B($,V){return $[23].name!=$[0]?qe:Pe}let C=B(e),N=C(e);function U(...$){return e[14](e[23],...$)}function L($,V){return $[23].name!=$[0]?Ae:Ge}let j=L(e),O=j(e);return{key:s,first:null,c(){l=b("div"),t=b("div"),N.c(),r=R(),u=b("button"),n=b("i"),m=R(),O.c(),i=R(),o=b("div"),_=b("label"),h=W(D),this.h()},l($){l=v($,"DIV",{class:!0});var V=g(l);t=v(V,"DIV",{class:!0});var A=g(t);N.l(A),r=M(A),u=v(A,"BUTTON",{type:!0,class:!0});var E=g(u);n=v(E,"I",{class:!0}),g(n).forEach(c),E.forEach(c),m=M(A),O.l(A),i=M(A),o=v(A,"DIV",{class:!0});var I=g(o);_=v(I,"LABEL",{class:!0,for:!0,title:!0});var w=g(_);h=Y(w,D),w.forEach(c),I.forEach(c),A.forEach(c),V.forEach(c),this.h()},h(){a(n,"class","fa-solid fa-download"),a(u,"type","button"),a(u,"class","btn download-btn svelte-10sp5r"),a(_,"class","backup-name-label svelte-10sp5r"),a(_,"for",f=e[0]+"-restore-"+e[23].key),a(_,"title","Select backup for restore"),a(o,"class","backup-name svelte-10sp5r"),a(t,"class","backup-content svelte-10sp5r"),a(l,"class","backup-entry svelte-10sp5r"),this.first=l},m($,V){S($,l,V),p(l,t),N.m(t,null),p(t,r),p(t,u),p(u,n),p(t,m),O.m(t,null),p(t,i),p(t,o),p(o,_),p(_,h),k||(y=G(u,"click",U),k=!0)},p($,V){e=$,C===(C=B(e))&&N?N.p(e,V):(N.d(1),N=C(e),N&&(N.c(),N.m(t,r))),j===(j=L(e))&&O?O.p(e,V):(O.d(1),O=j(e),O&&(O.c(),O.m(t,i))),V&2&&D!==(D=e[23].name+"")&&de(h,D),V&3&&f!==(f=e[0]+"-restore-"+e[23].key)&&a(_,"for",f)},d($){$&&c(l),N.d(),O.d(),k=!1,y()}}}function we(s){let e,l,t,r,u;return{c(){e=W(`Backup as:
                `),l=b("input"),this.h()},l(n){e=Y(n,`Backup as:
                `),l=v(n,"INPUT",{id:!0,name:!0,type:!0,class:!0,placeholder:!0}),this.h()},h(){a(l,"id",t=s[0]+"-original-name"),a(l,"name","save-as"),a(l,"type","text"),a(l,"class","original form-control svelte-10sp5r"),a(l,"placeholder","new name"),l.required=!0},m(n,m){S(n,e,m),S(n,l,m),ae(l,s[2]),r||(u=[G(l,"input",s[17]),G(l,"blur",s[18])],r=!0)},p(n,m){m&1&&t!==(t=n[0]+"-original-name")&&a(l,"id",t),m&4&&l.value!==n[2]&&ae(l,n[2])},d(n){n&&c(e),n&&c(l),r=!1,ie(u)}}}function Fe(s){let e,l,t,r,u,n,m,i,o,_,D,h,f=s[3]&&we(s);return{c(){e=b("div"),l=b("div"),t=b("input"),u=R(),n=b("label"),m=W("Backup current list"),o=R(),_=b("div"),f&&f.c(),this.h()},l(k){e=v(k,"DIV",{class:!0});var y=g(e);l=v(y,"DIV",{class:!0});var B=g(l);t=v(B,"INPUT",{type:!0,id:!0}),u=M(B),n=v(B,"LABEL",{for:!0});var C=g(n);m=Y(C,"Backup current list"),C.forEach(c),B.forEach(c),o=M(y),_=v(y,"DIV",{});var N=g(_);f&&f.l(N),N.forEach(c),y.forEach(c),this.h()},h(){a(t,"type","checkbox"),a(t,"id",r=s[0]+"-rename-current"),a(n,"for",i=s[0]+"-rename-current"),a(l,"class","dialog-title svelte-10sp5r"),a(e,"class","original-name svelte-10sp5r")},m(k,y){S(k,e,y),p(e,l),p(l,t),t.checked=s[3],p(l,u),p(l,n),p(n,m),p(e,o),p(e,_),f&&f.m(_,null),D||(h=G(t,"change",s[16]),D=!0)},p(k,y){y&1&&r!==(r=k[0]+"-rename-current")&&a(t,"id",r),y&8&&(t.checked=k[3]),y&1&&i!==(i=k[0]+"-rename-current")&&a(n,"for",i),k[3]?f?f.p(k,y):(f=we(k),f.c(),f.m(_,null)):f&&(f.d(1),f=null)},d(k){k&&c(e),f&&f.d(),D=!1,h()}}}function je(s){let e,l,t,r,u,n,m;return{c(){e=b("input"),t=R(),r=b("input"),this.h()},l(i){e=v(i,"INPUT",{type:!0,id:!0,class:!0}),t=M(i),r=v(i,"INPUT",{type:!0,id:!0}),this.h()},h(){a(e,"type","text"),a(e,"id",l=s[0]+"-rename-backup"),a(e,"class","form-control"),a(r,"type","hidden"),a(r,"id",u=s[0]+"-rename-hidden")},m(i,o){S(i,e,o),ae(e,s[4]),S(i,t,o),S(i,r,o),n||(m=[G(e,"blur",s[19]),G(e,"input",s[20])],n=!0)},p(i,o){o&1&&l!==(l=i[0]+"-rename-backup")&&a(e,"id",l),o&16&&e.value!==i[4]&&ae(e,i[4]),o&1&&u!==(u=i[0]+"-rename-hidden")&&a(r,"id",u)},d(i){i&&c(e),i&&c(t),i&&c(r),n=!1,ie(m)}}}function ze(s){let e,l,t,r,u,n,m,i,o,_,D,h,f,k,y,B,C,N,U,L=[],j=new Map,O,$,V,A,E,I,w,P,q,F,H,me,le=s[1];const pe=d=>d[23].key;for(let d=0;d<le.length;d+=1){let T=Ee(s,le,d),z=pe(T);j.set(z,L[d]=Ie(z,T))}return w=new ye({props:{id:"backup-modal",onSubmit:s[7],submit_text:"Restore",$$slots:{default:[Fe]},$$scope:{ctx:s}}}),q=new ye({props:{id:"rename-modal",onSubmit:s[6],onClose:s[10],submit_text:"Rename",$$slots:{default:[je]},$$scope:{ctx:s}}}),{c(){e=b("legend"),l=W("New Backup"),t=R(),r=b("div"),u=b("form"),n=b("div"),m=b("div"),i=W(`Backup name:
                `),o=b("input"),D=R(),h=b("button"),f=W("Create Backup"),k=R(),y=b("legend"),B=W("Restore Backup"),C=R(),N=b("div"),U=b("form");for(let d=0;d<L.length;d+=1)L[d].c();O=R(),$=b("div"),V=b("button"),A=W("Restore"),I=R(),Z(w.$$.fragment),P=R(),Z(q.$$.fragment),this.h()},l(d){e=v(d,"LEGEND",{class:!0});var T=g(e);l=Y(T,"New Backup"),T.forEach(c),t=M(d),r=v(d,"DIV",{class:!0});var z=g(r);u=v(z,"FORM",{});var X=g(u);n=v(X,"DIV",{class:!0});var ne=g(n);m=v(ne,"DIV",{});var ce=g(m);i=Y(ce,`Backup name:
                `),o=v(ce,"INPUT",{id:!0,type:!0,class:!0,placeholder:!0}),ce.forEach(c),D=M(ne),h=v(ne,"BUTTON",{class:!0});var _e=g(h);f=Y(_e,"Create Backup"),_e.forEach(c),ne.forEach(c),X.forEach(c),z.forEach(c),k=M(d),y=v(d,"LEGEND",{class:!0});var be=g(y);B=Y(be,"Restore Backup"),be.forEach(c),C=M(d),N=v(d,"DIV",{class:!0});var ve=g(N);U=v(ve,"FORM",{id:!0});var se=g(U);for(let fe=0;fe<L.length;fe+=1)L[fe].l(se);O=M(se),$=v(se,"DIV",{class:!0});var he=g($);V=v(he,"BUTTON",{type:!0,class:!0,name:!0});var ke=g(V);A=Y(ke,"Restore"),ke.forEach(c),he.forEach(c),se.forEach(c),ve.forEach(c),I=M(d),x(w.$$.fragment,d),P=M(d),x(q.$$.fragment,d),this.h()},h(){a(e,"class","options-group-title"),a(o,"id",_=s[0]+"-new-backup-name"),a(o,"type","text"),a(o,"class","new-backup-name form-control svelte-10sp5r"),a(o,"placeholder","new name"),a(h,"class","btn btn-primary"),a(n,"class","new-backup svelte-10sp5r"),a(r,"class","options-group"),a(y,"class","options-group-title"),a(V,"type","button"),a(V,"class","btn btn btn-danger"),a(V,"name","backups_action"),V.value="restore",a($,"class","backup-submit svelte-10sp5r"),a(U,"id",E=s[0]+"-backup-list-form"),a(N,"class","options-group")},m(d,T){S(d,e,T),p(e,l),S(d,t,T),S(d,r,T),p(r,u),p(u,n),p(n,m),p(m,i),p(m,o),p(n,D),p(n,h),p(h,f),S(d,k,T),S(d,y,T),p(y,B),S(d,C,T),S(d,N,T),p(N,U);for(let z=0;z<L.length;z+=1)L[z].m(U,null);p(U,O),p(U,$),p($,V),p(V,A),S(d,I,T),ee(w,d,T),S(d,P,T),ee(q,d,T),F=!0,H||(me=[G(o,"blur",s[12]),G(u,"submit",s[8]),G(V,"click",We)],H=!0)},p(d,[T]){(!F||T&1&&_!==(_=d[0]+"-new-backup-name"))&&a(o,"id",_),T&2563&&(le=d[1],L=Ce(L,T,pe,1,d,le,j,U,$e,Ie,O,Ee)),(!F||T&1&&E!==(E=d[0]+"-backup-list-form"))&&a(U,"id",E);const z={};T&67108877&&(z.$$scope={dirty:T,ctx:d}),w.$set(z);const X={};T&67108881&&(X.$$scope={dirty:T,ctx:d}),q.$set(X)},i(d){F||(J(w.$$.fragment,d),J(q.$$.fragment,d),F=!0)},o(d){K(w.$$.fragment,d),K(q.$$.fragment,d),F=!1},d(d){d&&c(e),d&&c(t),d&&c(r),d&&c(k),d&&c(y),d&&c(C),d&&c(N);for(let T=0;T<L.length;T+=1)L[T].d();d&&c(I),te(w,d),d&&c(P),te(q,d),H=!1,ie(me)}}}function We(s){const e=document.getElementById("backup-modal");e&&(e.showModal(),s.preventDefault())}function Ye(s,e,l){let{key:t}=e,r=[],u="",n=!0,m="";function i(){for(let E=0;E<localStorage.length;E++){const I=localStorage.key(E);I&&r.push({name:I,key:E})}}i();function o(){l(1,r=[]),i(),l(1,r)}function _(E,I){const w=document.getElementById(I);if(!w)return console.log("could not find id: "+I),!1;if(w.value!=""){w.setCustomValidity("");{const P=localStorage.getItem(w.value.toLowerCase());if(w.value.toLowerCase()==t.toLowerCase())w.setCustomValidity(`'${t}' is a reserved name`);else if(P!=null)w.setCustomValidity("Backup exists");else return!0}}return!1}function D(E,I){if(!_(I,t+"-rename-backup"))return console.log("invalid name:"+m),I.preventDefault(),!1;const w=document.getElementById(t+"-rename-hidden"),P=m.toLowerCase(),q=localStorage.getItem(P);if(!w||!w.value||!m||q!=null)return!1;const F=w.value.toLowerCase(),H=localStorage.getItem(F);return H?(console.log("renaming "+F+" to "+P),localStorage.setItem(P,H),localStorage.removeItem(F),o(),!0):!1}function h(E,I){if(!n&&!window.confirm("This will erase the current word list, continue?"))return console.log("cancelling"),I.preventDefault(),!1;if(n&&!_(I,t+"-original-name"))return I.preventDefault(),!1;const w=document.getElementById(t+"-backup-list-form");if(w){const P=w.elements.namedItem("btn-edit"),q=localStorage.getItem(t.toLowerCase());if(!P||!q)return!1;const F=localStorage.getItem(P.value);if(!F)return!1;n&&localStorage.setItem(u,q),localStorage.setItem(t,F),o()}return!0}function f(E){const I=document.getElementById(t+"-new-backup-name");if(!I||!_(E,t+"-new-backup-name")){E.preventDefault();return}const w=localStorage.getItem(t.toLowerCase());w&&(localStorage.setItem(I.value.toLowerCase(),w),o(),I.value="")}function k(E,I){const w=document.getElementById("rename-modal");if(!w)return;const P=document.getElementById(t+"-rename-backup");P&&(P.placeholder=I);const q=document.getElementById(t+"-rename-hidden");q&&(q.value=I,w.showModal(),E.preventDefault())}function y(E,I){const w=document.getElementById(t+"-rename-backup");w&&(w.placeholder="")}function B(E,I){return E.preventDefault(),window.confirm("Delete backup '"+I+"'?")?(localStorage.removeItem(I),o(),!0):!1}const C=E=>_(E,t+"-new-backup-name"),N=(E,I)=>B(I,E.name),U=(E,I)=>Ve(E.name),L=(E,I)=>k(I,E.name);function j(){n=this.checked,l(3,n)}function O(){u=this.value,l(2,u)}const $=E=>_(E,t+"-original-name"),V=E=>_(E,t+"-rename-backup");function A(){m=this.value,l(4,m)}return s.$$set=E=>{"key"in E&&l(0,t=E.key)},[t,r,u,n,m,_,D,h,f,k,y,B,C,N,U,L,j,O,$,V,A]}class He extends re{constructor(e){super(),oe(this,e,Ye,ze,ue,{key:0})}}function Je(s){let e,l,t,r,u,n,m,i;return{c(){e=b("legend"),l=W("Options"),t=R(),r=b("div"),u=b("button"),n=W("Clear words"),this.h()},l(o){e=v(o,"LEGEND",{class:!0});var _=g(e);l=Y(_,"Options"),_.forEach(c),t=M(o),r=v(o,"DIV",{class:!0});var D=g(r);u=v(D,"BUTTON",{type:!0,class:!0});var h=g(u);n=Y(h,"Clear words"),h.forEach(c),D.forEach(c),this.h()},h(){a(e,"class","options-group-title"),a(u,"type","button"),a(u,"class","btn btn-danger"),a(r,"class","options-group")},m(o,_){S(o,e,_),p(e,l),S(o,t,_),S(o,r,_),p(r,u),p(u,n),m||(i=G(u,"click",s[0]),m=!0)},p:Q,i:Q,o:Q,d(o){o&&c(e),o&&c(t),o&&c(r),m=!1,i()}}}function Ke(s,e,l){let{key:t}=e;function r(){if(!window.confirm("This will clear all words in your word list.  Continue?"))return;const u=Le(t);Oe(u)}return s.$$set=u=>{"key"in u&&l(1,t=u.key)},[r,t]}class Qe extends re{constructor(e){super(),oe(this,e,Ke,Je,ue,{key:1})}}function Xe(s){let e,l,t,r,u,n,m;return e=new Ue({props:{current:"options"}}),r=new He({props:{key:"words"}}),n=new Qe({props:{key:"words"}}),{c(){Z(e.$$.fragment),l=R(),t=b("div"),Z(r.$$.fragment),u=R(),Z(n.$$.fragment),this.h()},l(i){x(e.$$.fragment,i),l=M(i),t=v(i,"DIV",{class:!0});var o=g(t);x(r.$$.fragment,o),u=M(o),x(n.$$.fragment,o),o.forEach(c),this.h()},h(){a(t,"class","options-page")},m(i,o){ee(e,i,o),S(i,l,o),S(i,t,o),ee(r,t,null),p(t,u),ee(n,t,null),m=!0},p:Q,i(i){m||(J(e.$$.fragment,i),J(r.$$.fragment,i),J(n.$$.fragment,i),m=!0)},o(i){K(e.$$.fragment,i),K(r.$$.fragment,i),K(n.$$.fragment,i),m=!1},d(i){te(e,i),i&&c(l),i&&c(t),te(r),te(n)}}}class tt extends re{constructor(e){super(),oe(this,e,null,Xe,ue,{})}}export{tt as default};
